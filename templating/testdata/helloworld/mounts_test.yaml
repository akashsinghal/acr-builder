# This template demonstrates mounting a custom volume into a container at a CMD step
secrets:
  - id: mysecret
    keyvault: https://aksinghalkv.vault.azure.net/secrets/SampleMultilineSecret2/927be1d024f54b6d979a6788b0e1e5e9

volumes:
  - name: mysecrets
    values:
      - filename: mysecret1
        value: {{.Secrets.mysecret | b64enc}}
        b64dec: true
      - filename: mysecret2
        value: ---Begin Secret Key 2 Here---
        
steps:
  - cmd: bash cat /run/test/mysecret1 /run/test/mysecret2
    mounts:
      - name: mysecrets
        containerFilePath: /run/test